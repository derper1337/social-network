{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\Philippos\\\\Documents\\\\WebDev\\\\ULTRA_REACT\\\\01\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\objectSpread2.js\";import _slicedToArray from\"C:\\\\Users\\\\Philippos\\\\Documents\\\\WebDev\\\\ULTRA_REACT\\\\01\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import React,{useState}from\"react\";import css from\"./Users.module.css\";import{NavLink}from\"react-router-dom\";import NoAvatarPicture from\"../../common/images/User.png\";import AddFriendButton from\"../../common/images/AddFriend.png\";import OkButton from\"../../common/images/ok.png\";import ArowButton from\"../../common/images/arrow.png\";import SearchButton from\"../../common/images/search.png\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var Paginator=function Paginator(props){var portionSize=10;var pagesCount=Math.ceil(props.pageInfo.pageCount/props.pageInfo.pageSize);var pages=[];for(var i=1;i<=pagesCount;i++){pages.push(i);}var portionCount=Math.ceil(pagesCount/portionSize);var _useState=useState(1),_useState2=_slicedToArray(_useState,2),portionNumber=_useState2[0],setPortionNumber=_useState2[1];var leftPortionNumber=(portionNumber-1)*portionSize+1;var rightPortionNumber=portionNumber*portionSize;pages=pages.filter(function(p){return p>=leftPortionNumber&&p<=rightPortionNumber;}).map(function(p){return/*#__PURE__*/_jsxs(\"span\",{className:props.pageInfo.currentPage===p?css.SelectedPage:css.UnselectedPage,onClick:function onClick(){return props.onPageChange(p);},children:[\" \",p,\" \"]},p);});return/*#__PURE__*/_jsxs(\"div\",{className:css.Paginator,children:[/*#__PURE__*/_jsxs(\"button\",{onClick:function onClick(){setPortionNumber(portionNumber-1);},children:[\" \",/*#__PURE__*/_jsx(\"img\",{style:{\"transform\":\"scaleX(-1)\"},src:ArowButton,width:\"30px\"})]}),/*#__PURE__*/_jsx(\"div\",{className:css.PageNumbers,children:pages}),/*#__PURE__*/_jsxs(\"button\",{onClick:function onClick(){setPortionNumber(portionNumber+1);},children:[\" \",/*#__PURE__*/_jsx(\"img\",{src:ArowButton,width:\"30px\"})]})]});};var Users=function Users(props){var unfollow=function unfollow(userId){props.unfollowThunkCreator(userId);};var follow=function follow(userId){props.followThunkCreator(userId);};var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),search=_useState4[0],setSearch=_useState4[1];return/*#__PURE__*/_jsxs(\"div\",{className:css.Users,children:[/*#__PURE__*/_jsxs(\"div\",{className:css.SearchContainer,children:[/*#__PURE__*/_jsxs(\"div\",{className:css.Searcher,children:[/*#__PURE__*/_jsx(\"input\",{value:search,onChange:function onChange(event){setSearch(event.currentTarget.value);}}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return props.searchUsersThunkCreator(search);},children:/*#__PURE__*/_jsx(\"img\",{src:SearchButton,width:\"30px\"})})]}),/*#__PURE__*/_jsx(Paginator,_objectSpread({},props))]}),props.users.length===0?/*#__PURE__*/_jsx(\"div\",{className:css.Warning,children:\" No such users found \"}):props.users.map(function(u){return/*#__PURE__*/_jsxs(\"div\",{className:css.UsersContainer,children:[/*#__PURE__*/_jsx(NavLink,{className:css.UserPicture,to:\"/profile/\"+u.id,children:/*#__PURE__*/_jsx(\"div\",{children:u.photos.small?/*#__PURE__*/_jsx(\"img\",{src:u.photos.small}):/*#__PURE__*/_jsx(\"img\",{style:{width:\"100px\"},src:NoAvatarPicture})})}),/*#__PURE__*/_jsxs(NavLink,{className:css.UserName,to:\"/profile/\"+u.id,children:[/*#__PURE__*/_jsx(\"span\",{children:u.name}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"p\",{children:u.status})]}),/*#__PURE__*/_jsx(\"div\",{className:css.UserFollowButton,children:u.followed?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\" Followed \"}),/*#__PURE__*/_jsx(\"button\",{disabled:props.followingInProgress.some(function(id){return id===u.id;}),onClick:function onClick(){return unfollow(u.id);},children:/*#__PURE__*/_jsx(\"img\",{width:\"50px\",src:OkButton})})]}):/*#__PURE__*/_jsx(\"button\",{disabled:props.followingInProgress.some(function(id){return id===u.id;}),onClick:function onClick(){return follow(u.id);},children:/*#__PURE__*/_jsx(\"img\",{width:\"50px\",src:AddFriendButton})})})]},u.name);})]});};export default Users;","map":{"version":3,"sources":["C:/Users/Philippos/Documents/WebDev/ULTRA_REACT/01/src/components/Content/Users/Users.js"],"names":["React","useState","css","NavLink","NoAvatarPicture","AddFriendButton","OkButton","ArowButton","SearchButton","Paginator","props","portionSize","pagesCount","Math","ceil","pageInfo","pageCount","pageSize","pages","i","push","portionCount","portionNumber","setPortionNumber","leftPortionNumber","rightPortionNumber","filter","p","map","currentPage","SelectedPage","UnselectedPage","onPageChange","PageNumbers","Users","unfollow","userId","unfollowThunkCreator","follow","followThunkCreator","search","setSearch","SearchContainer","Searcher","event","currentTarget","value","searchUsersThunkCreator","users","length","Warning","u","UsersContainer","UserPicture","id","photos","small","width","UserName","name","status","UserFollowButton","followed","followingInProgress","some"],"mappings":"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","sourcesContent":["import React, {useState} from \"react\";\r\nimport css from \"./Users.module.css\"\r\nimport {NavLink} from \"react-router-dom\";\r\nimport NoAvatarPicture from \"../../common/images/User.png\"\r\nimport AddFriendButton from \"../../common/images/AddFriend.png\"\r\nimport OkButton from \"../../common/images/ok.png\"\r\nimport ArowButton from \"../../common/images/arrow.png\"\r\nimport SearchButton from \"../../common/images/search.png\"\r\n\r\nlet Paginator = (props) => {\r\n    let portionSize = 10;\r\n    let pagesCount = Math.ceil(props.pageInfo.pageCount / props.pageInfo.pageSize);\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n    let portionCount = Math.ceil(pagesCount / portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionNumber = (portionNumber - 1) * portionSize + 1;\r\n    let rightPortionNumber = portionNumber * portionSize;\r\n    pages = pages.filter(p => p >= leftPortionNumber && p <= rightPortionNumber).map(p => <span\r\n        key={p}\r\n        className={props.pageInfo.currentPage === p ? css.SelectedPage : css.UnselectedPage}\r\n        onClick={() => props.onPageChange(p)}> {p} </span>);\r\n    return <div className={css.Paginator}>\r\n        <button onClick={() => {\r\n            setPortionNumber(portionNumber - 1)\r\n        }}> <img style={{\"transform\": \"scaleX(-1)\"}} src={ArowButton} width={\"30px\"}/>\r\n        </button>\r\n        <div className={css.PageNumbers}>\r\n            {pages}\r\n        </div>\r\n        <button onClick={() => {\r\n            setPortionNumber(portionNumber + 1)\r\n        }}> <img src={ArowButton} width={\"30px\"}/>\r\n        </button>\r\n    </div>\r\n}\r\n\r\nlet Users = (props) => {\r\n\r\n    let unfollow = (userId) => {\r\n        props.unfollowThunkCreator(userId);\r\n    }\r\n    let follow = (userId) => {\r\n        props.followThunkCreator(userId);\r\n    }\r\n\r\n    const [search, setSearch] = useState(\"\");\r\n\r\n    return (<div className={css.Users}>\r\n        <div className={css.SearchContainer}>\r\n            <div className={css.Searcher}>\r\n                <input value={search} onChange={(event)=>{setSearch(event.currentTarget.value)}}/>\r\n                <button onClick={()=>props.searchUsersThunkCreator(search)}>\r\n                    <img src={SearchButton} width={\"30px\"}/>\r\n                </button>\r\n            </div>\r\n                <Paginator {...props} />\r\n        </div>\r\n        {\r\n            props.users.length === 0\r\n                ? <div className={css.Warning}> No such users found </div>\r\n                : props.users.map(u => {\r\n                return (\r\n                    <div key={u.name} className={css.UsersContainer}>\r\n                        <NavLink className={css.UserPicture} to={\"/profile/\" + u.id}>\r\n                            <div>{u.photos.small ? <img src={u.photos.small}/> :\r\n                                <img style={{width: \"100px\"}} src={NoAvatarPicture}/>}</div>\r\n                        </NavLink>\r\n\r\n                        <NavLink className={css.UserName} to={\"/profile/\" + u.id}>\r\n                            <span>{u.name}</span>\r\n                            <br/>\r\n                            <p>{u.status}</p>\r\n                        </NavLink>\r\n\r\n                        <div className={css.UserFollowButton}>\r\n                            {u.followed\r\n                                ? <div>\r\n                                    <span> Followed </span>\r\n                                    <button disabled={props.followingInProgress.some(id => id === u.id)}\r\n                                            onClick={() => unfollow(u.id)}><img width={\"50px\"} src={OkButton}/></button>\r\n                                </div>\r\n                                : <button disabled={props.followingInProgress.some(id => id === u.id)}\r\n                                          onClick={() => follow(u.id)}><img width={\"50px\"} src={AddFriendButton}/>\r\n                                </button>}\r\n                        </div>\r\n                    </div>)\r\n            })\r\n        }\r\n    </div>)\r\n}\r\n\r\nexport default Users;\r\n"]},"metadata":{},"sourceType":"module"}