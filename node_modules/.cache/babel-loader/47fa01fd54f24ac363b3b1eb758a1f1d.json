{"ast":null,"code":"import { usersAPI } from \"../ api/api\";\nimport { isLoading, setCurrentPage, setUsers } from \"./users-reducer\";\nlet initValue = {\n  dialogs2: [{\n    name: \"stepa\",\n    messages: [{\n      name: \"user1\",\n      message: \"sup brah\"\n    }, {\n      name: \"user1\",\n      message: \"sup brahh\"\n    }, {\n      name: \"user1\",\n      message: \"sup brahhhh\"\n    }, {\n      name: \"user1\",\n      message: \"sup brahhhhhhhhh\"\n    }]\n  }],\n  newMessageText: {\n    name: \"user1\",\n    message: \"shieeeet\"\n  },\n  dialogs: {\n    name: \"stepa\",\n    messages: [{\n      name: \"user1\",\n      message: \"sup brah\"\n    }, {\n      name: \"user1\",\n      message: \"sup brahh\"\n    }, {\n      name: \"user1\",\n      message: \"sup brahhhh\"\n    }, {\n      name: \"user1\",\n      message: \"sup brahhhhhhhhh\"\n    }]\n  },\n  friends: []\n};\n\nconst messageReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initValue;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case \"ADD-MESSAGE\":\n      {\n        let stateCopy = { ...state\n        };\n        stateCopy.dialogs = [...state.dialogs];\n        stateCopy.newMessageText = { ...state.newMessageText\n        };\n        stateCopy.dialogs[0].messages.push(Object.assign({}, stateCopy.newMessageText));\n        stateCopy.newMessageText.message = \"\";\n        return stateCopy;\n      }\n\n    case \"CHANGE-MESSAGE\":\n      {\n        let stateCopy = { ...state\n        };\n        stateCopy.dialogs = [...state.dialogs];\n        stateCopy.newMessageText = { ...state.newMessageText\n        };\n        stateCopy.newMessageText.message = action.text;\n        return stateCopy;\n      }\n\n    case \"SET-FRIENDS\":\n      {\n        let stateCopy = { ...state\n        };\n        stateCopy.friends = action.friends;\n        return stateCopy;\n      }\n\n    case \"SET-DIALOGS\":\n      {\n        let stateCopy = { ...state\n        };\n        stateCopy.dialogs = action.friends;\n        return stateCopy;\n      }\n\n    default:\n      return state;\n  }\n};\n\nconst setFriends = friends => ({\n  type: \"SET-FRIENDS\",\n  friends: friends\n});\n\nexport const getFriendsThunkCreator = () => {\n  return dispatch => {\n    usersAPI.getFriends().then(data => {\n      dispatch({\n        type: \"SET-FRIENDS\",\n        friends: data.items\n      });\n    });\n  };\n};\nexport default messageReducer;","map":{"version":3,"sources":["C:/Users/Philippos/Documents/WebDev/ULTRA_REACT/01/src/Redux/message-reducer.js"],"names":["usersAPI","isLoading","setCurrentPage","setUsers","initValue","dialogs2","name","messages","message","newMessageText","dialogs","friends","messageReducer","state","action","type","stateCopy","push","Object","assign","text","setFriends","getFriendsThunkCreator","dispatch","getFriends","then","data","items"],"mappings":"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","sourcesContent":["import {usersAPI} from \"../ api/api\";\r\nimport {isLoading, setCurrentPage, setUsers} from \"./users-reducer\";\r\n\r\nlet initValue = {\r\n    dialogs2: [\r\n        {\r\n            name: \"stepa\",\r\n            messages: [\r\n                {name: \"user1\", message: \"sup brah\"},\r\n                {name: \"user1\", message: \"sup brahh\"},\r\n                {name: \"user1\", message: \"sup brahhhh\"},\r\n                {name: \"user1\", message: \"sup brahhhhhhhhh\"}]\r\n        },\r\n    ],\r\n    newMessageText: {name: \"user1\", message: \"shieeeet\"},\r\n    dialogs:{\r\n        name: \"stepa\",\r\n        messages: [\r\n            {name: \"user1\", message: \"sup brah\"},\r\n            {name: \"user1\", message: \"sup brahh\"},\r\n            {name: \"user1\", message: \"sup brahhhh\"},\r\n            {name: \"user1\", message: \"sup brahhhhhhhhh\"}]\r\n\r\n    },\r\n    friends: [],\r\n};\r\nconst messageReducer = (state = initValue, action) => {\r\n\r\n    switch (action.type) {\r\n        case \"ADD-MESSAGE\": {\r\n            let stateCopy = {...state};\r\n            stateCopy.dialogs = [...state.dialogs];\r\n            stateCopy.newMessageText = {...state.newMessageText};\r\n            stateCopy.dialogs[0].messages.push(Object.assign({}, stateCopy.newMessageText));\r\n            stateCopy.newMessageText.message = \"\";\r\n            return stateCopy;\r\n        }\r\n        case \"CHANGE-MESSAGE\": {\r\n            let stateCopy = {...state};\r\n            stateCopy.dialogs = [...state.dialogs];\r\n            stateCopy.newMessageText = {...state.newMessageText};\r\n            stateCopy.newMessageText.message = action.text;\r\n            return stateCopy;\r\n        }\r\n        case \"SET-FRIENDS\": {\r\n            let stateCopy = {...state};\r\n            stateCopy.friends = action.friends;\r\n            return stateCopy;\r\n        }\r\n        case \"SET-DIALOGS\": {\r\n            let stateCopy = {...state};\r\n            stateCopy.dialogs = action.friends;\r\n            return stateCopy;\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nconst setFriends = (friends) => ({type: \"SET-FRIENDS\", friends: friends});\r\n\r\nexport const getFriendsThunkCreator = () => {\r\n    return (dispatch) => {\r\n        usersAPI.getFriends().then(data => {\r\n            dispatch({type: \"SET-FRIENDS\", friends: data.items});\r\n        });\r\n    }\r\n}\r\n\r\nexport default messageReducer;"]},"metadata":{},"sourceType":"module"}