{"ast":null,"code":"import { profileAPI, usersAPI } from \"../ api/api\";\nlet initValue = {\n  posts: [{\n    id: \"1\",\n    likesCount: 3,\n    text: \"jopa\"\n  }, {\n    id: \"2\",\n    likesCount: 6,\n    text: \"jopaa\"\n  }, {\n    id: \"3\",\n    likesCount: 2,\n    text: \"jopaaa\"\n  }, {\n    id: \"4\",\n    likesCount: 1,\n    text: \"jopaaaaaa\"\n  }],\n  newPostText: {\n    id: \"5\",\n    likesCount: 0,\n    text: \"asdasda\"\n  },\n  profile: null,\n  status: null\n};\n\nconst profileReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initValue;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case \"ADD-POST\":\n      {\n        let stateCopy = { ...state\n        };\n        stateCopy.posts = [...state.posts];\n        stateCopy.posts.push(Object.assign({}, state.newPostText));\n        stateCopy.newPostText.text = '';\n        return stateCopy;\n      }\n\n    case \"CHANGE-POST\":\n      {\n        let stateCopy = { ...state\n        };\n        stateCopy.newPostText.text = action.text;\n        return stateCopy;\n      }\n\n    case \"SET-USER-PROFILE\":\n      {\n        return { ...state,\n          profile: action.profile\n        };\n      }\n\n    case \"SET-USER-STATUS\":\n      {\n        return { ...state,\n          status: action.status\n        };\n      }\n\n    default:\n      return state;\n  }\n};\n\nexport const addPost = () => ({\n  type: \"ADD-POST\"\n});\nexport const textareaChange = text => ({\n  type: \"CHANGE-POST\",\n  text: text.current.value\n});\nexport const setUserProfile = profile => ({\n  type: \"SET-USER-PROFILE\",\n  profile: profile\n});\nexport const setProfileStatus = status => ({\n  type: \"SET-USER-STATUS\",\n  status: status\n});\nexport const getProfileThunkCreator = userId => {\n  return dispatch => {\n    usersAPI.getProfile(userId).then(data => {\n      console.log(data);\n      dispatch(setUserProfile(data));\n    });\n  };\n};\nexport const getStatusThunkCreator = userId => {\n  return dispatch => {\n    if (userId == \"\") {\n      userId = 2;\n    }\n\n    profileAPI.getStatus(userId).then(response => {\n      dispatch(setProfileStatus(response.data));\n    });\n  };\n};\nexport const updateStatusThunkCreator = status => {\n  return dispatch => {\n    profileAPI.updateStatus(status).then(response => {\n      console.log(response);\n      dispatch(setProfileStatus(status));\n    });\n  };\n};\nexport default profileReducer;","map":{"version":3,"sources":["C:/Users/Philippos/Documents/WebDev/ULTRA_REACT/01/src/Redux/profileReducer.js"],"names":["profileAPI","usersAPI","initValue","posts","id","likesCount","text","newPostText","profile","status","profileReducer","state","action","type","stateCopy","push","Object","assign","addPost","textareaChange","current","value","setUserProfile","setProfileStatus","getProfileThunkCreator","userId","dispatch","getProfile","then","data","console","log","getStatusThunkCreator","getStatus","response","updateStatusThunkCreator","updateStatus"],"mappings":"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","sourcesContent":["import {profileAPI, usersAPI} from \"../ api/api\";\r\n\r\nlet initValue = {\r\n    posts: [\r\n        {id: \"1\", likesCount: 3, text: \"jopa\"},\r\n        {id: \"2\", likesCount: 6, text: \"jopaa\"},\r\n        {id: \"3\", likesCount: 2, text: \"jopaaa\"},\r\n        {id: \"4\", likesCount: 1, text: \"jopaaaaaa\"}\r\n    ],\r\n    newPostText: {id: \"5\", likesCount: 0, text: \"asdasda\"},\r\n    profile: null,\r\n    status: null,\r\n};\r\nconst profileReducer = (state = initValue, action) => {\r\n\r\n    switch (action.type) {\r\n        case \"ADD-POST\": {\r\n            let stateCopy = {...state};\r\n            stateCopy.posts = [...state.posts]\r\n            stateCopy.posts.push(Object.assign({}, state.newPostText));\r\n            stateCopy.newPostText.text = '';\r\n            return stateCopy;}\r\n        case \"CHANGE-POST\": {\r\n            let stateCopy = {...state};\r\n            stateCopy.newPostText.text = action.text;\r\n            return stateCopy;\r\n        }\r\n        case \"SET-USER-PROFILE\":{\r\n            return {...state, profile: action.profile}\r\n        }\r\n        case \"SET-USER-STATUS\":{\r\n            return {...state, status: action.status}\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n\r\n}\r\nexport const addPost = () => ({type: \"ADD-POST\"});\r\nexport const textareaChange = (text) => ({type: \"CHANGE-POST\",text: text.current.value});\r\nexport const setUserProfile = (profile) => ({type:\"SET-USER-PROFILE\", profile:profile});\r\nexport const setProfileStatus = (status) => ({type:\"SET-USER-STATUS\", status:status})\r\n\r\nexport const getProfileThunkCreator = (userId) => {\r\n    return (dispatch) => {\r\n        usersAPI.getProfile(userId)\r\n            .then(data => {\r\n                console.log(data);\r\n                dispatch(setUserProfile(data));\r\n            })\r\n    }\r\n}\r\n\r\nexport const getStatusThunkCreator = (userId) => {\r\n    return (dispatch) => {\r\n        if(userId==\"\"){\r\n            userId=2;\r\n        }\r\n        profileAPI.getStatus(userId)\r\n            .then(response => {\r\n                dispatch(setProfileStatus(response.data));\r\n            })\r\n    }\r\n}\r\n\r\nexport const updateStatusThunkCreator = (status) => {\r\n    return (dispatch) => {\r\n        profileAPI.updateStatus(status)\r\n            .then(response => {\r\n                console.log(response);\r\n                dispatch(setProfileStatus(status));\r\n            })\r\n    }\r\n}\r\n\r\nexport default profileReducer;"]},"metadata":{},"sourceType":"module"}